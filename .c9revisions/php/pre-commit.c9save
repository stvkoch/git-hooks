{"ts":1359291022181,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1359291018182,"patch":[[{"diffs":[[1,"#!/usr/bin/php\r\n<?php\r\n\r\necho \"##  Verificando erros PHP... ##\\n\";\r\n\r\n$output = array();\r\n$return = 0;\r\nexec('git rev-parse --verify HEAD 2> /dev/null', $output, $return);\r\n$against = $return == 0 ? 'HEAD' : '4b825dc642cb6eb9a060e54bf8d69288fbee4904';\r\n\r\nexec(\"git diff-index --cached --name-only {$against}\", $output);\r\n\r\n$filename_pattern_PHP = '/\\.php$/';\r\n\r\n$exit_status = 0;\r\n$error = 0;\r\nforeach ($output as $file) {\r\n    \r\n    if (file_exists($file) && preg_match($filename_pattern_PHP, $file)) {\r\n        $lint_output = array();\r\n\r\n        exec(\"php -l \" . escapeshellarg($file), $lint_poutput, $return);\r\n        if ($return != 0) {\r\n            echo implode(\"\\n\", $lint_output), \"\\n\";\r\n            $exit_status = 1;\r\n        }\r\n    }\r\n}\r\n\r\necho '##   Executando testes   ##';\r\nexec('phpunit.phar .', $output);\r\nif(!preg_match('@OK \\(\\d+ tests, \\d+ assertions\\)@', $output[count($output)-1])){\r\n    echo implode(\"\\n\", $output);\r\n    $exit_status = 0;\r\n}else $exit_status = 1;\r\n\r\nexit($exit_status);"]],"start1":0,"start2":0,"length1":0,"length2":1007}]],"length":1007,"saved":false}
